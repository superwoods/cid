/**
 * Copyright (c) 2017 - 2020 www.xiongan.gov.cn All Rights Reserved.
 * Project xa-topic-ncov201927 v0.1.3
 * @time 2020-02-07 17:34:09
 */

"use strict";var $$=Dom7,MAIN_url="/2018zt/ncov201927/",AJAX_url="http://da.wa.news.cn/nodeart/page",msgFn=function(n){return'\n        <a href="http://da.wa.news.cn/nodeart/page?nid='+n.cid+"&pgnum="+n.pgnum+"&cnt="+n.cnt+'&tp=1&orderby=1"\n        class="link external" target="_blank">暂无内容</a>\n    '},cid={"“疫”闻动态":{nav:!0,isHomepageChn:!0,classNameKey:"yw",url:"/page/yw/",cid:11215323},"“疫”图速览":{nav:!0,isHomepageChn:!0,classNameKey:"yt",url:"/page/yt/",cid:11215324},"抗“疫”诗情":{nav:!0,isHomepageChn:!0,classNameKey:"ky",url:"/page/gz/",cid:11207721},"战“疫”之歌":{nav:!0,isHomepageChn:!0,classNameKey:"zy",url:"/page/zy/",cid:11207723}},CHObj=!1,setNav=function(n){if(n){CHObj={};var t="";for(var a in n)if(n[a].hasOwnProperty("isHomepageChn")&&n[a].hasOwnProperty("nav")){var i=a,e="navBtn-"+(n[a].hasOwnProperty("url")?n[a].url.replace(/\/|page/gi,""):n[a].classNameKey);n[a].nav&&(n[a].isHomepageChn?t+='\n                                <a class="link navBtn '+e+'" href="'+n[a].url+n[a].cid+'" data-id="id-'+n[a].cid+'">\n                                    '+i+'\n                                </a>\n                                <span class="line"></span>\n                        ':t+='\n                                <a class="link navBtn '+e+' navBtn-jumpto" href="'+MAIN_url+'" data-id="id-'+n[a].cid+'" data-jump="'+e+'">\n                                    '+i+'\n                                </a>\n                                <span class="line"></span>\n                        '),CHObj[n[a].cid]={name:i,cid:n[a].cid,url:n[a].url,isBlank:!!n[a].isBlank&&n[a].isBlank}}$('[data-js="setNav(cid)"]').html('\n            <a class="link navBtn-home active" href="'+MAIN_url+'" data-id="home">首页</a>\n            '+t+"            \n        "),$(".navBtn-gz").on("click",function(n){$(".page-content").animate({scrollTop:1500},"3000")}),$(".navBtn-pw").on("click",function(n){$(".page-content").animate({scrollTop:2e3},"3000")}),$(".navBtn-kj").on("click",function(n){$(".page-content").animate({scrollTop:2900},"3000")})}},contentPageFn_bannerBgDom=!1,contentPageFn_navDom=!1,contentPageFn_footerDom=!1,contentPageFn=function(){return 0==contentPageFn_bannerBgDom&&(contentPageFn_bannerBgDom=$(".banner").prop("outerHTML")),0==contentPageFn_navDom&&(contentPageFn_navDom=$(".nav").prop("outerHTML")),0==contentPageFn_footerDom&&(contentPageFn_footerDom=$(".footer").prop("outerHTML")),'\n        <div class="page isPageBanner">\n            <div class="page-content hide-navbar-on-scroll">\n                \n                <div class="box banner-bg">\n                    '+contentPageFn_bannerBgDom+"\n                    "+contentPageFn_navDom+'\n                </div>\n\n                <div class="content">\n                    \x3c!-- items START --\x3e\n                    <div class="area listHasImg spListArea">\n                        <div class="spaColTitle"> </div>\n                        <div class="listBox">\n                            <ul class="list isLoading" id="addDataListPos" data-cid="">\n                                <div class="isLoadingTxt">正在努力加载...</div>\n                            </ul>\n                        </div>\n                        <div class="isNoContent isNoContent"></div>\n                        <div class="listBoxMoreBtnBox">\n                            <div class="listBoxMoreBtn" id="addData">查看更多</div>\n                        </div>\n                    </div>\n                    \x3c!-- items END --\x3e\n                </div>\n\n                <div class="nav mobile-nav-btn">\n                    <div class="panel-openBtnBox">\n                        <a class="panel-open btn-box button button-large button-fill color-white text-color-red" href="#" data-panel="right">\n                            <i class="f7-icons" data-panel="right">bars</i>\n                        </a>\n                    </div>\n                </div>\n\n                \x3c!-- js footer START --\x3e\n                '+contentPageFn_footerDom+"\n                \x3c!-- js footer END --\x3e\n            </div>\n        </div>\n    "},aAddClassFn=function(){$("a").each(function(n,t){var a=$(t);"_blank"==a.attr("target")&&a.addClass("link external")})},TXT_nourl="\x3c!-- 暂无标题链接 --\x3e",TXT_notitle="\x3c!-- 暂无标题 --\x3e",TXT_nopic="\x3c!-- 暂无图片 / --\x3e",tp={pic:function(n){return'<div class="pic" data-docid="'+n.DocID+'">'+(n.PicLinks?(n.LinkUrl?'<a href="'+n.LinkUrl+'" class="link external" target="_blank" data-docid="'+n.DocID+'">':TXT_nourl)+'<img class="lazy lazy-fade-in" src="'+n.PicLinks+'" alt="'+(n.Title?""+n.Title:TXT_notitle)+'">'+(n.LinkUrl?"</a>":""):TXT_nopic)+"</div>"},picNoImgNoPicDom:function(n){return(n.PicLinks?'\n            <div class="pic" data-docid="'+n.DocID+'">'+(n.LinkUrl?'<a href="'+n.LinkUrl+'" class="link external" target="_blank" data-docid="'+n.DocID+'">':TXT_nourl)+'<img class="lazy lazy-fade-in" src="'+n.PicLinks+'" alt="'+(n.Title?""+n.Title:TXT_notitle)+'">'+(n.LinkUrl?"</a></div>":""):TXT_nopic)+"\n       "},aImg:function(n){return(n.PicLinks?(n.LinkUrl?'<a href="'+n.LinkUrl+'" class="link external" target="_blank" data-docid="'+n.DocID+'">':TXT_nourl)+'<img class="lazy lazy-fade-in" data-docid="'+n.DocID+'" src="'+n.PicLinks+'" alt="'+(n.Title?""+n.Title:TXT_notitle)+'">'+(n.LinkUrl?"</a>":""):TXT_nopic)+"</div>"},title:function(n){return""+(n.LinkUrl?'<a href="'+n.LinkUrl+'" class="link external" target="_blank" data-docid="'+n.DocID+'">':TXT_nourl)+(n.Title?""+n.Title:TXT_notitle)+(n.LinkUrl?"</a>":"")},a:{start:function(n){return""+(n.LinkUrl?'<a href="'+n.LinkUrl+'" class="link external" target="_blank" data-docid="'+n.DocID+'">':TXT_nourl)},end:function(n){return n.LinkUrl?"</a>":""}},abs:function(n){return n.Abstract?'<div class="abs" data-docid="'+n.DocID+'">'+n.Abstract+"</div>":'\x3c!-- 暂无摘要 data-docid="'+n.DocID+'" --\x3e'},introTitle:function(n){var t=/http/.test(n.IntroTitle);return n.IntroTitle&&0==t?'<div class="bigTitle" data-type="IntroTitle">'+n.IntroTitle+"</div>":'\x3c!-- 暂无引题 data-docid="'+n.DocID+'" --\x3e'}},pageFn=function(n){var t=0;$("#addData"+n).on("click",function(){n&&t++,loadDataListItem({cid:n,cnt:4,pgnum:t,isBlank:!0})})},loadDataListItem=function(n){var a=n.cid,i=n.cnt,e=n.pgnum,o=n.targetName,c=n.cbFn,s=(n.isBlank,0),l="";$.ajax({url:"http://da.wa.news.cn/nodeart/page",data:{nid:a,pgnum:e,cnt:i,tp:1,orderby:1},dataType:"JSONP",success:function(n){if("-1"==n.status){$("#addData"+a).html("暂无更多").addClass("disable");var t='\n                    <a href="http://da.wa.news.cn/nodeart/page?nid='+a+"&pgnum="+e+"&cnt="+i+'&tp=1&orderby=1" \n                    class="link external" target="_blank">暂无内容</a>\n                ';o?$(o+" .isNoContent").html(t):$(".isNoContent"+a).html(t)}else 0<n.data.list.length&&n.data.list.map(function(n,t){s++;var a=tp.a.start(n),i=tp.a.end(n);l+='\n                        <li data-index="'+s+'" data-docid="'+n.DocID+'"'+(n.PicLinks?"":'class="noPic"')+'>\n                            <div class="text">\n                                '+a+'\n                                    <div class="title">\n                                        '+(n.Title?""+n.Title:"暂无标题")+"\n                                    </div>\n                                    "+tp.abs(n)+"\n                                "+i+"\n                            </div>\n                            "+tp.picNoImgNoPicDom(n)+"\n                        </li>\n                        "});$(".isLoading").html("").removeClass("isLoading"),o?$(o).html("\n                    \x3c!-- cid: "+a+", cnt: "+i+", pgnum: "+e+" START --\x3e\n                    "+l+"\n                    \x3c!-- cid: "+a+", cnt: "+i+", pgnum: "+e+" END --\x3e\n                "):$("#addDataListPos"+a).append("\n                    \x3c!-- cid: "+a+", cnt: "+i+", pgnum: "+e+" START --\x3e\n                    "+l+"\n                    \x3c!-- cid: "+a+", cnt: "+i+", pgnum: "+e+" END --\x3e\n                "),c&&c()},error:function(n,t,a){404==n.status&&$(".isLoading").html(a)}})},rotAndHeadline_initRot_swiperEl=!1,rotAndHeadline_initRot=function(n){rotAndHeadline_initRot_swiperEl=new Swiper(n+" .swiper-container",{loop:!0,watchOverflow:!0,pagination:{el:n+" .swiper-pagination",clickable:!0},navigation:{nextEl:n+" .swiper-button-next",prevEl:n+" .swiper-button-prev"}})},rotAndHeadline=function(n){var s=n.cid,l=n.cnt,d=n.pgnum,r=n.targetName,p=n.hideName,u=n.hasCol;$.ajax({url:"http://da.wa.news.cn/nodeart/page",data:{nid:s,pgnum:d,cnt:l,tp:1,orderby:1},dataType:"JSONP",success:function(n){var a="",i="",e="",o=0,c=4;if("-1"==n.status){var t='\n                    <a href="http://da.wa.news.cn/nodeart/page?nid='+s+"&pgnum="+d+"&cnt="+l+'&tp=1&orderby=1" \n                    class="link external" target="_blank">暂无内容</a>\n                ';$(r+" .col1 .isNoContent").html(t)}else 0<n.data.list.length&&n.data.list.map(function(n,t){61==n.Attr?a+='\n                                <div class="swiper-slide item" data-docid="'+n.DocID+'">\n                                    '+tp.pic(n,t)+'\n                                    <div class="title">\n                                        <div class="text">\n                                            '+tp.title(n,t)+"\n                                        </div>\n                                    </div>\n                                </div>\n                            ":""==i?(c=n.Title.length<=14?7:n.Title.length<=28?6:4,u&&(i+='\n                                        <div class="items-col items-col0-0">\n                                            <div class="hide">'+u+"</div>\n                                        </div>\n                                    "),i+='\n                                <h2 class="tiny-title" data-docid="'+n.DocID+'">\n                                    '+tp.title(n,t)+"\n                                </h2>\n                                "+tp.abs(n)+'\n                                <div class="line"></div>\n                            '):++o<=c&&(e+='\n                                        <li data-docid="'+n.DocID+'" >\n                                            '+tp.title(n,t)+"\n                                        </li>\n                                    ")});a&&($(r+" .swiper-container .swiper-wrapper").html(a),setTimeout(function(){rotAndHeadline_initRot(r)},600)),a||i||e?$(r+" .right").html("\n                    "+i+'\n                    <ul class="list">\n                        '+e+"\n                    </ul>\n                "):p&&$(p).hide()}})},rotPic3_swiper=void 0,rotPic3_rotFn=function(n,t){rotPic3_swiper=new Swiper(n+" .swiper-container",{watchOverflow:!0,autoplay:!1,slidesPerView:isPc?3:1,slidesPerColumn:isPc?1:t,spaceBetween:9,pagination:{el:n+" .swiper-pagination",clickable:!0},navigation:{nextEl:n+" .swiper-button-next",prevEl:n+" .swiper-button-prev"}})},rotPic3=function(n){var i=n.cid,e=n.cnt,o=n.pgnum,c=n.targetName;$.ajax({url:AJAX_url,data:{nid:i,pgnum:o,cnt:e,tp:1,orderby:1},dataType:"JSONP",success:function(n){var a="";if("-1"==n.status){var t=msgFn({cid:i,pgnum:o,cnt:e});$(c+" .isNoContent").html(t)}else 0<n.data.list.length&&n.data.list.map(function(n,t){a+='\n                            <div class="swiper-slide itemBox" data-docid="'+n.DocID+'">\n                                '+tp.pic(n,t)+'\n                                <div class="title">\n                                    <div class="text">\n                                        '+tp.title(n,t)+"\n                                    </div>\n                                </div>\n                            </div>\n                        "});a&&($(c+" .swiper-wrapper").html(a),rotPic3_rotFn(c,e))}})},list=function(n){var a=n.cid,i=n.cnt,e=n.pgnum,o=n.targetName,c=n.hideName,s="",l=0;$.ajax({url:AJAX_url,data:{nid:a,pgnum:e,cnt:i,tp:1,orderby:1},dataType:"JSONP",success:function(n){if("-1"==n.status){var t=msgFn({cid:a,pgnum:e,cnt:i});$(o+" .isNoContent").html(t)}else 0<n.data.list.length&&n.data.list.map(function(n,t){l++;var a=tp.a.start(n,l),i=tp.a.end(n,l);s+='\n                            <li data-index="'+l+'" data-docid="'+n.DocID+'"'+(n.PicLinks?"":'class="noPic"')+'>\n                                <div class="text">\n                                    '+a+'\n                                        <div class="title">\n                                            '+(n.Title?""+n.Title:"暂无标题")+"\n                                        </div>\n                                    "+i+"\n                                </div>\n                            </li>"});""!==s?$(o).find(".list").html("\n                        \x3c!-- cid: "+a+", cnt: "+i+", pgnum: "+e+" START --\x3e\n                        "+s+"\n                        \x3c!-- cid: "+a+", cnt: "+i+", pgnum: "+e+" END --\x3e\n                    "):c&&$(c).hide()}})},rotBigInitRot_swiperEl=!1,rotBigInitRot=function(n,t){rotBigInitRot_swiperEl=new Swiper(n+" .swiper-container",{watchOverflow:!0,autoplay:!1,slidesPerView:1,slidesPerColumn:isPc?1:t,spaceBetween:10,pagination:{el:n+" .swiper-pagination",clickable:!0},navigation:{nextEl:n+" .swiper-button-next",prevEl:n+" .swiper-button-prev"}})},rotBig=function(n){var a=n.cid,i=n.cnt,e=n.pgnum,o=n.targetName,c=n.hideName,s="",l=0;$.ajax({url:"http://da.wa.news.cn/nodeart/page",data:{nid:a,pgnum:e,cnt:i,tp:1,orderby:1},dataType:"JSONP",success:function(n){if("-1"==n.status){var t='\n                    <a href="http://da.wa.news.cn/nodeart/page?nid='+a+"&pgnum="+e+"&cnt="+i+'&tp=1&orderby=1"\n                    class="link external" target="_blank">暂无内容</a>\n                ';$(o+" .isNoContent").html(t)}else 0<n.data.list.length&&n.data.list.map(function(n,t){l++;tp.a.start(n,l),tp.a.end(n,l);s+='\n                            <div class="swiper-slide item">\n                                <li data-index="'+l+'" data-docid="'+n.DocID+'"'+(n.PicLinks?"":'class="noPic"')+">\n                                    "+tp.picNoImgNoPicDom(n,l)+'\n                                    <div class="title">\n                                        <div class="text">\n                                            '+tp.title(n,l)+"\n                                        </div>\n                                    </div>\n                                </li>\n                            </div>\n                        "});o&&""!==s?($(o+" .swiper-wrapper").html("\n                    \x3c!-- cid: "+a+", cnt: "+i+", pgnum: "+e+" START --\x3e\n                    "+s+"\n                    \x3c!-- cid: "+a+", cnt: "+i+", pgnum: "+e+" END --\x3e\n                "),setTimeout(function(){rotBigInitRot(o,i)},600)):c&&$(c).hide()},error:function(n,t,a){404==n.status&&$(o+" .isNoContent").html(a)}})},addDataForHomepage=function(n){rotAndHeadline({cid:n["“疫”闻动态"].cid,cnt:20,pgnum:1,targetName:"#rotBig",hideName:null,hasCol:0}),rotPic3({cid:n["“疫”图速览"].cid,cnt:6,pgnum:1,targetName:"#rotPic3"}),list({cid:n["抗“疫”诗情"].cid,cnt:6,pgnum:1,targetName:"#col3List"}),rotBig({cid:n["战“疫”之歌"].cid,cnt:4,pgnum:1,targetName:"#rotBig2",hideName:null})},setCol_setTimeout=void 0,routes=[{name:"首页",path:"/2018zt/ncov201927/",url:".",on:{pageInit:function(){setNav(cid),CHObj&&setHomepageCol(CHObj),addDataForHomepage(cid),aAddClassFn()}}},{name:"列表页",path:"/page/:chName/:ch_cid",content:contentPageFn(),on:{pageInit:function(n,t){setNav(cid);var a=t.route.params.ch_cid;if(-1!==window.location.href.indexOf(a)){CHObj&&(setCol_setTimeout=setTimeout(function(){$$(".navbar .title, .spaColTitle").text(CHObj[a].name),$$("[data-id]").removeClass("active"),$$('[data-id="id-'+a+'"]').addClass("active"),$$(".spaColTitle").prepend('\n                        <div class="'+$$('[data-id="id-'+a+'"]').attr("class")+'"></div>\n                        <div class="middot"></div>\n                    '),clearTimeout(setCol_setTimeout),setCol_setTimeout=null},400));var i=$$("#addDataListPos");i.attr("id","addDataListPos"+a),i.attr("data-cid",a),$$(".isNoContent").attr("class","isNoContent isNoContent"+a),$$("#addData").attr("id","addData"+a),pageFn(a)}}},navbar:{hideOnPageScroll:!0}},{path:"(.*)",url:"http://www.xiongan.gov.cn/404.html"}],isSetHomepageCol=!1,setHomepageCol=function(n){if(0==isSetHomepageCol)for(var t in n)if(n.hasOwnProperty(t)){var a=n[t],i=$('[data-col="'+a.name+'"]');i.replaceWith('\n                    <a class="colA link" href="'+a.url+a.cid+'">\n                        <div class="'+i.attr("class")+'">\n                            <div class="hide">'+a.name+"</div>\n                        </div>\n                    </a>\n                ");var e=$('[data-more="'+a.name+'"]');e.replaceWith('\n                    <div class="more">\n                        <a class="colA link" href="'+a.url+a.cid+'"> '+e.html()+" </a>\n                    </div>\n                ")}},theme="auto";0<=document.location.search.indexOf("theme=")&&(theme=document.location.search.split("theme=")[1].split("&")[0]);var app=new Framework7({root:"#app",name:"xiongan",id:"com.myapp.test",panel:{swipe:"left"},routes:routes,popup:{closeOnEscape:!0},sheet:{closeOnEscape:!0},popover:{closeOnEscape:!0},actions:{closeOnEscape:!0}}),mainView=app.views.create(".view-main",{pushState:!0,on:{pageAfterIn:function(){$(".listBoxMoreBtn").click()}}});